//华能偏关山西黑家庄
//（状态码解析规则修改为alarm1~8 31位）
//Excel是以0-283，算法则是以1~284为例，0为特殊处理

require {
    zAlarm1   is "zAlarm1"
    zAlarm2   is "zAlarm2"
    zAlarm3   is "zAlarm3"
    zAlarm4   is "zAlarm4"
    zAlarm5   is "zAlarm5"
    zAlarm6   is "zAlarm6"
    zAlarm7   is "zAlarm7"
    zAlarm8   is "zAlarm8"
}
output {
    mergeAlarm0   is "mergeAlarm0"
    mergeAlarm1   is "mergeAlarm1"
    mergeAlarm2   is "mergeAlarm2"
    mergeAlarm3   is "mergeAlarm3"
    mergeAlarm4   is "mergeAlarm4"
    mergeAlarm5   is "mergeAlarm5"
    mergeAlarm6   is "mergeAlarm6"
    mergeAlarm7   is "mergeAlarm7"
    mergeAlarm8   is "mergeAlarm8"
    mergeAlarm9   is "mergeAlarm9"
    mergeAlarm10  is "mergeAlarm10"
    mergeAlarm11  is "mergeAlarm11"
    mergeAlarm12  is "mergeAlarm12"
    mergeAlarm13  is "mergeAlarm13"
    mergeAlarm14  is "mergeAlarm14"
    mergeAlarm15  is "mergeAlarm15"
    mergeAlarm16  is "mergeAlarm16"
    mergeAlarm17  is "mergeAlarm17"
    mergeAlarm18  is "mergeAlarm18"
    mergeAlarm19  is "mergeAlarm19"
    mergeAlarm20  is "mergeAlarm20"
    mergeAlarm21  is "mergeAlarm21"
    mergeAlarm22  is "mergeAlarm22"
    mergeAlarm23  is "mergeAlarm23"
    mergeAlarm24  is "mergeAlarm24"
    mergeAlarm25  is "mergeAlarm25"
    mergeAlarm26  is "mergeAlarm26"
    mergeAlarm27  is "mergeAlarm27"
    mergeAlarm28  is "mergeAlarm28"
    mergeAlarm29  is "mergeAlarm29"
    mergeAlarm30  is "mergeAlarm30"
    mergeAlarm31  is "mergeAlarm31"
    mergeAlarm32  is "mergeAlarm32"
    mergeAlarm33  is "mergeAlarm33"
    mergeAlarm34  is "mergeAlarm34"
    mergeAlarm35  is "mergeAlarm35"
    mergeAlarm36  is "mergeAlarm36"
    mergeAlarm37  is "mergeAlarm37"
    mergeAlarm38  is "mergeAlarm38"
    mergeAlarm39  is "mergeAlarm39"
    mergeAlarm40  is "mergeAlarm40"
    mergeAlarm41  is "mergeAlarm41"
    mergeAlarm42  is "mergeAlarm42"
    mergeAlarm43  is "mergeAlarm43"
    mergeAlarm44  is "mergeAlarm44"
    mergeAlarm45  is "mergeAlarm45"
    mergeAlarm46  is "mergeAlarm46"
    mergeAlarm47  is "mergeAlarm47"
    mergeAlarm48  is "mergeAlarm48"
    mergeAlarm49  is "mergeAlarm49"
    mergeAlarm50  is "mergeAlarm50"
    mergeAlarm51  is "mergeAlarm51"
    mergeAlarm52  is "mergeAlarm52"
    mergeAlarm53  is "mergeAlarm53"
    mergeAlarm54  is "mergeAlarm54"
    mergeAlarm55  is "mergeAlarm55"
    mergeAlarm56  is "mergeAlarm56"
    mergeAlarm57  is "mergeAlarm57"
    mergeAlarm58  is "mergeAlarm58"
    mergeAlarm59  is "mergeAlarm59"
    mergeAlarm60  is "mergeAlarm60"
    mergeAlarm61  is "mergeAlarm61"
    mergeAlarm62  is "mergeAlarm62"
    mergeAlarm63  is "mergeAlarm63"
    mergeAlarm64  is "mergeAlarm64"
    mergeAlarm65  is "mergeAlarm65"
    mergeAlarm66  is "mergeAlarm66"
    mergeAlarm67  is "mergeAlarm67"
    mergeAlarm68  is "mergeAlarm68"
    mergeAlarm69  is "mergeAlarm69"
    mergeAlarm70  is "mergeAlarm70"
    mergeAlarm71  is "mergeAlarm71"
    mergeAlarm72  is "mergeAlarm72"
    mergeAlarm73  is "mergeAlarm73"
    mergeAlarm74  is "mergeAlarm74"
    mergeAlarm75  is "mergeAlarm75"
    mergeAlarm76  is "mergeAlarm76"
    mergeAlarm77  is "mergeAlarm77"
    mergeAlarm78  is "mergeAlarm78"
    mergeAlarm79  is "mergeAlarm79"
    mergeAlarm80  is "mergeAlarm80"
    mergeAlarm81  is "mergeAlarm81"
    mergeAlarm82  is "mergeAlarm82"
    mergeAlarm83  is "mergeAlarm83"
    mergeAlarm84  is "mergeAlarm84"
    mergeAlarm85  is "mergeAlarm85"
    mergeAlarm86  is "mergeAlarm86"
    mergeAlarm87  is "mergeAlarm87"
    mergeAlarm88  is "mergeAlarm88"
    mergeAlarm89  is "mergeAlarm89"
    mergeAlarm90  is "mergeAlarm90"
    mergeAlarm91  is "mergeAlarm91"
    mergeAlarm92  is "mergeAlarm92"
    mergeAlarm93  is "mergeAlarm93"
    mergeAlarm94  is "mergeAlarm94"
    mergeAlarm95  is "mergeAlarm95"
    mergeAlarm96  is "mergeAlarm96"
    mergeAlarm97  is "mergeAlarm97"
    mergeAlarm98  is "mergeAlarm98"
    mergeAlarm99  is "mergeAlarm99"
    mergeAlarm100 is "mergeAlarm100"
    mergeAlarm101 is "mergeAlarm101"
    mergeAlarm102 is "mergeAlarm102"
    mergeAlarm103 is "mergeAlarm103"
    mergeAlarm104 is "mergeAlarm104"
    mergeAlarm105 is "mergeAlarm105"
    mergeAlarm106 is "mergeAlarm106"
    mergeAlarm107 is "mergeAlarm107"
    mergeAlarm108 is "mergeAlarm108"
    mergeAlarm109 is "mergeAlarm109"
    mergeAlarm110 is "mergeAlarm110"
    mergeAlarm111 is "mergeAlarm111"
    mergeAlarm112 is "mergeAlarm112"
    mergeAlarm113 is "mergeAlarm113"
    mergeAlarm114 is "mergeAlarm114"
    mergeAlarm115 is "mergeAlarm115"
    mergeAlarm116 is "mergeAlarm116"
    mergeAlarm117 is "mergeAlarm117"
    mergeAlarm118 is "mergeAlarm118"
    mergeAlarm119 is "mergeAlarm119"
    mergeAlarm120 is "mergeAlarm120"
    mergeAlarm121 is "mergeAlarm121"
    mergeAlarm122 is "mergeAlarm122"
    mergeAlarm123 is "mergeAlarm123"
    mergeAlarm124 is "mergeAlarm124"
    mergeAlarm125 is "mergeAlarm125"
    mergeAlarm126 is "mergeAlarm126"
    mergeAlarm127 is "mergeAlarm127"
    mergeAlarm128 is "mergeAlarm128"
    mergeAlarm129 is "mergeAlarm129"
    mergeAlarm130 is "mergeAlarm130"
    mergeAlarm131 is "mergeAlarm131"
    mergeAlarm132 is "mergeAlarm132"
    mergeAlarm133 is "mergeAlarm133"
    mergeAlarm134 is "mergeAlarm134"
    mergeAlarm135 is "mergeAlarm135"
    mergeAlarm136 is "mergeAlarm136"
    mergeAlarm137 is "mergeAlarm137"
    mergeAlarm138 is "mergeAlarm138"
    mergeAlarm139 is "mergeAlarm139"
    mergeAlarm140 is "mergeAlarm140"
    mergeAlarm141 is "mergeAlarm141"
    mergeAlarm142 is "mergeAlarm142"
    mergeAlarm143 is "mergeAlarm143"
    mergeAlarm144 is "mergeAlarm144"
    mergeAlarm145 is "mergeAlarm145"
    mergeAlarm146 is "mergeAlarm146"
    mergeAlarm147 is "mergeAlarm147"
    mergeAlarm148 is "mergeAlarm148"
    mergeAlarm149 is "mergeAlarm149"
    mergeAlarm150 is "mergeAlarm150"
    mergeAlarm151 is "mergeAlarm151"
    mergeAlarm152 is "mergeAlarm152"
    mergeAlarm153 is "mergeAlarm153"
    mergeAlarm154 is "mergeAlarm154"
    mergeAlarm155 is "mergeAlarm155"
    mergeAlarm156 is "mergeAlarm156"
    mergeAlarm157 is "mergeAlarm157"
    mergeAlarm158 is "mergeAlarm158"
    mergeAlarm159 is "mergeAlarm159"
    mergeAlarm160 is "mergeAlarm160"
    mergeAlarm161 is "mergeAlarm161"
    mergeAlarm162 is "mergeAlarm162"
    mergeAlarm163 is "mergeAlarm163"
    mergeAlarm164 is "mergeAlarm164"
    mergeAlarm165 is "mergeAlarm165"
    mergeAlarm166 is "mergeAlarm166"
    mergeAlarm167 is "mergeAlarm167"
    mergeAlarm168 is "mergeAlarm168"
    mergeAlarm169 is "mergeAlarm169"
    mergeAlarm170 is "mergeAlarm170"
    mergeAlarm171 is "mergeAlarm171"
    mergeAlarm172 is "mergeAlarm172"
    mergeAlarm173 is "mergeAlarm173"
    mergeAlarm174 is "mergeAlarm174"
    mergeAlarm175 is "mergeAlarm175"
    mergeAlarm176 is "mergeAlarm176"
    mergeAlarm177 is "mergeAlarm177"
    mergeAlarm178 is "mergeAlarm178"
    mergeAlarm179 is "mergeAlarm179"
    mergeAlarm180 is "mergeAlarm180"
    mergeAlarm181 is "mergeAlarm181"
    mergeAlarm182 is "mergeAlarm182"
    mergeAlarm183 is "mergeAlarm183"
    mergeAlarm184 is "mergeAlarm184"
    mergeAlarm185 is "mergeAlarm185"
    mergeAlarm186 is "mergeAlarm186"
    mergeAlarm187 is "mergeAlarm187"
    mergeAlarm188 is "mergeAlarm188"
    mergeAlarm189 is "mergeAlarm189"
    mergeAlarm190 is "mergeAlarm190"
    mergeAlarm191 is "mergeAlarm191"
    mergeAlarm192 is "mergeAlarm192"
    mergeAlarm193 is "mergeAlarm193"
    mergeAlarm194 is "mergeAlarm194"
    mergeAlarm195 is "mergeAlarm195"
    mergeAlarm196 is "mergeAlarm196"
    mergeAlarm197 is "mergeAlarm197"
    mergeAlarm198 is "mergeAlarm198"
    mergeAlarm199 is "mergeAlarm199"
    mergeAlarm200 is "mergeAlarm200"
    mergeAlarm201 is "mergeAlarm201"
    mergeAlarm202 is "mergeAlarm202"
    mergeAlarm203 is "mergeAlarm203"
    mergeAlarm204 is "mergeAlarm204"
    mergeAlarm205 is "mergeAlarm205"
    mergeAlarm206 is "mergeAlarm206"
    mergeAlarm207 is "mergeAlarm207"
    mergeAlarm208 is "mergeAlarm208"
    mergeAlarm209 is "mergeAlarm209"
    mergeAlarm210 is "mergeAlarm210"
    mergeAlarm211 is "mergeAlarm211"
    mergeAlarm212 is "mergeAlarm212"
    mergeAlarm213 is "mergeAlarm213"
    mergeAlarm214 is "mergeAlarm214"
    mergeAlarm215 is "mergeAlarm215"
    mergeAlarm216 is "mergeAlarm216"
    mergeAlarm217 is "mergeAlarm217"
    mergeAlarm218 is "mergeAlarm218"
    mergeAlarm219 is "mergeAlarm219"
    mergeAlarm220 is "mergeAlarm220"
    mergeAlarm221 is "mergeAlarm221"
    mergeAlarm222 is "mergeAlarm222"
    mergeAlarm223 is "mergeAlarm223"
    mergeAlarm224 is "mergeAlarm224"
    mergeAlarm225 is "mergeAlarm225"
    mergeAlarm226 is "mergeAlarm226"
    mergeAlarm227 is "mergeAlarm227"
    mergeAlarm228 is "mergeAlarm228"
    mergeAlarm229 is "mergeAlarm229"
    mergeAlarm230 is "mergeAlarm230"
    mergeAlarm231 is "mergeAlarm231"
    mergeAlarm232 is "mergeAlarm232"
    mergeAlarm233 is "mergeAlarm233"
    mergeAlarm234 is "mergeAlarm234"
    mergeAlarm235 is "mergeAlarm235"
    mergeAlarm236 is "mergeAlarm236"
    mergeAlarm237 is "mergeAlarm237"
    mergeAlarm238 is "mergeAlarm238"
    mergeAlarm239 is "mergeAlarm239"
    mergeAlarm240 is "mergeAlarm240"
    mergeAlarm241 is "mergeAlarm241"
    mergeAlarm242 is "mergeAlarm242"
    mergeAlarm243 is "mergeAlarm243"
    mergeAlarm244 is "mergeAlarm244"
    mergeAlarm245 is "mergeAlarm245"
    mergeAlarm246 is "mergeAlarm246"
    mergeAlarm247 is "mergeAlarm247"
    mergeAlarm248 is "mergeAlarm248"
}
status {
    midAlarm0   is "至少有一个报警"  //取值中间变量
    midAlarm1   is "振动开关紧停"
    midAlarm2   is "安全链断开"
    midAlarm3   is "机舱控制柜紧停"
    midAlarm4   is "机舱便携盒紧停"
    midAlarm5   is "塔基变频器紧急停机"
    midAlarm6   is "齿轮箱超速卡紧停"
    midAlarm7   is "低速轴超速卡紧停"
    midAlarm8   is "低速轴超速紧停"
    midAlarm9   is "齿轮超速紧停"
    midAlarm10  is "刹车200时间过长紧停"
    midAlarm11  is "刹车180时间过长紧停"
    midAlarm12  is "刹车190时间过长紧停"
    midAlarm13  is "瞬时功率过高紧停"
    midAlarm14  is "保留"
    midAlarm15  is "保留"
    midAlarm16  is "保留"
    midAlarm17  is "变桨触发限位开关超时"
    midAlarm18  is "桨叶1速度太慢"
    midAlarm19  is "桨叶2速度太慢"
    midAlarm20  is "桨叶3速度太慢"
    midAlarm21  is "保留"
    midAlarm22  is "保留"
    midAlarm23  is "保留"
    midAlarm24  is "保留"
    midAlarm25  is "停机后转速异常"
    midAlarm26  is "变桨控制器看门狗错误"
    midAlarm27  is "变桨电池检测"
    midAlarm28  is "电网故障过频"
    midAlarm29  is "电压缺相"
    midAlarm30  is "三相相位偏差过大"
    midAlarm31  is "相电压低"
    midAlarm32  is "电网频率过高"
    midAlarm33  is "电网频率过低"
    midAlarm34  is "三相相位角偏离(120°)"
    midAlarm35  is "刹车75时间过长"
    midAlarm36  is "变频器主开关断开"
    midAlarm37  is "三相电流不对称"
    midAlarm38  is "主控与变桨通讯失败"
    midAlarm39  is "变频器报电网故障"
    midAlarm40  is "桨叶1驱动器故障"
    midAlarm41  is "桨叶2驱动器故障"
    midAlarm42  is "桨叶3驱动器故障"
    midAlarm43  is "变桨电机1转速过高"
    midAlarm44  is "变桨电机2转速过高"
    midAlarm45  is "变桨电机3转速过高"
    midAlarm46  is "箱变温度过高停机"
    midAlarm47  is "保留"
    midAlarm48  is "变桨电池检测失败"
    midAlarm49  is "齿轮箱超速"
    midAlarm50  is "低速轴超速"
    midAlarm51  is "发电机超速"
    midAlarm52  is "刹车50时间过长"
    midAlarm53  is "刹车60时间过长"
    midAlarm54  is "刹车52时间过长"
    midAlarm55  is "变频器正常信号出错"
    midAlarm56  is "变频器报错"
    midAlarm57  is "变频器报超速"
    midAlarm58  is "发电中变频器报脱网"
    midAlarm59  is "桨叶1电池收桨过慢"
    midAlarm60  is "桨叶2电池收桨过慢"
    midAlarm61  is "桨叶3电池收桨过慢"
    midAlarm62  is "切换后桨叶1收桨过慢"
    midAlarm63  is "切换后桨叶2收桨过慢"
    midAlarm64  is "切换后桨叶3收桨过慢"
    midAlarm65  is "风机维护"
    midAlarm66  is "手动停机"
    midAlarm67  is "手动刹车"
    midAlarm68  is "保留"
    midAlarm69  is "保留"
    midAlarm70  is "保留"
    midAlarm71  is "保留"
    midAlarm72  is "保留"
    midAlarm73  is "远程停机"
    midAlarm74  is "重复故障"
    midAlarm75  is "机舱温度过高停机"
    midAlarm76  is "变桨电池故障"
    midAlarm77  is "相电压高"
    midAlarm78  is "户外温度过低停机"
    midAlarm79  is "户外温度过高停机"
    midAlarm80  is "风速(小)与功率不匹配"
    midAlarm81  is "风速(大)与功率不匹配"
    midAlarm82  is "风机结冰停机"
    midAlarm83  is "风向标结冰"
    midAlarm84  is "风向偏差大于45度"
    midAlarm85  is "风向标故障"
    midAlarm86  is "风速计全部故障"
    midAlarm87  is "风速过高停机"
    midAlarm88  is "变桨角度超限停机"
    midAlarm89  is "发电机转速传感器错误"
    midAlarm90  is "低速轴转速传感器错误"
    midAlarm91  is "低速轴反向"
    midAlarm92  is "更换刹车盘"
    midAlarm93  is "刹车滑移"
    midAlarm94  is "刹车1反馈失效"
    midAlarm95  is "刹车2反馈失效"
    midAlarm96  is "发电机过热重复故障"
    midAlarm97  is "发电机定子过热（155）"
    midAlarm98  is "发电机定子过热（130）"
    midAlarm99  is "发电机轴承1过热"
    midAlarm100 is "发电机轴承2过热"
    midAlarm101 is "发电机电刷磨损"
    midAlarm102 is "连接变频器时间过长"
    midAlarm103 is "自动解缆"
    midAlarm104 is "自动解缆失败"
    midAlarm105 is "偏航传感器故障"
    midAlarm106 is "偏航传感器方向错误"
    midAlarm107 is "偏航电气刹车开关跳闸"
    midAlarm108 is "偏航电机1、3开关跳闸"
    midAlarm109 is "偏航电机2、4开关跳闸"
    midAlarm110 is "发电机风扇开关跳闸"
    midAlarm111 is "齿轮箱风扇开关跳闸"
    midAlarm112 is "齿轮油加热开关跳闸"
    midAlarm113 is "发电机风扇2开关跳闸"
    midAlarm114 is "变桨角度不同步"
    midAlarm115 is "旁路限位开关失败"
    midAlarm116 is "变桨电机1过热"
    midAlarm117 is "变桨电机2过热"
    midAlarm118 is "变桨电机3过热"
    midAlarm119 is "变桨电机1过流"
    midAlarm120 is "变桨电机2过流"
    midAlarm121 is "变桨电机3过流"
    midAlarm122 is "变桨电机1电流信号检测"
    midAlarm123 is "变桨电机2电流信号检测"
    midAlarm124 is "变桨电机3电流信号检测"
    midAlarm125 is "变桨电机电流不同步"
    midAlarm126 is "变桨小错误"
    midAlarm127 is "变桨电机风扇故障"
    midAlarm128 is "变桨电池充电故障"
    midAlarm129 is "变桨充电回路故障"
    midAlarm130 is "变桨电池1电压不正常"
    midAlarm131 is "变桨电池2电压不正常"
    midAlarm132 is "变桨电池3电压不正常"
    midAlarm133 is "轮毂温度过热"
    midAlarm134 is "液压油位低"
    midAlarm135 is "液压油泵开关跳闸"
    midAlarm136 is "液压泵启动时间过长"
    midAlarm137 is "液压泵启动时间过短"
    midAlarm138 is "液压压力过高"
    midAlarm139 is "液压压力过低"
    midAlarm140 is "齿轮润滑油开关跳闸"
    midAlarm141 is "齿轮油压过低"
    midAlarm142 is "齿轮箱高速轴温度高"
    midAlarm143 is "齿轮箱低速轴温度高"
    midAlarm144 is "齿轮油温度高"
    midAlarm145 is "齿轮油温度低"
    midAlarm146 is "齿轮油泵电机开关跳闸"
    midAlarm147 is "齿轮油压过高"
    midAlarm148 is "齿轮油位低"
    midAlarm149 is "变频器并网超时"
    midAlarm150 is "变频器入口温度过热"
    midAlarm151 is "wp4084chan.1 故障"
    midAlarm152 is "wp4084chan.2 故障"
    midAlarm153 is "wp4084通讯故障"
    midAlarm154 is "1#通道1振动超限(1级)"
    midAlarm155 is "PT100失效"
    midAlarm156 is "1#通道2振动超限(1级)"
    midAlarm157 is "1#通道1振动超限(2级)"
    midAlarm158 is "1#通道2振动超限(2级)"
    midAlarm159 is "2#通道1振动超限(1级)"
    midAlarm160 is "2#通道2振动超限(1级)"
    midAlarm161 is "2#通道1振动超限(2级)"
    midAlarm162 is "2#通道2振动超限(2级)"
    midAlarm163 is "变频器温度过低"
    midAlarm164 is "低速轴过热"
    midAlarm165 is "主控4-20mA 信号出错"
    midAlarm166 is "风机关闭"
    midAlarm167 is "变桨报超速"
    midAlarm168 is "桨叶1限位开关故障"
    midAlarm169 is "桨叶2限位开关故障"
    midAlarm170 is "桨叶3限位开关故障"
    midAlarm171 is "变桨1电机热继电器过流"
    midAlarm172 is "变桨2电机热继电器过流"
    midAlarm173 is "变桨3电机热继电器过流"
    midAlarm174 is "箱式变压器过热停机"
    midAlarm175 is "600s平均功率过高"
    midAlarm176 is "刹车误制动"
    midAlarm177 is "桨叶1设定角度偏差大"
    midAlarm178 is "桨叶2设定角度偏差大"
    midAlarm179 is "桨叶3设定角度偏差大"
    midAlarm180 is "变频器响应不准确"
    midAlarm181 is "变桨润滑油泵故障"
    midAlarm182 is "变桨电池充电回路故障"
    midAlarm183 is "变桨电池输出过载故障"
    midAlarm184 is "变桨充电器输出欠压"
    midAlarm185 is "变桨充电器输出过压"
    midAlarm186 is "变桨充电器输入欠压"
    midAlarm187 is "变桨充电器输入过压"
    midAlarm188 is "充电器/控制器通讯中断"
    midAlarm189 is "充电器散热器温度高"
    midAlarm190 is "充电器内部温度高报警"
    midAlarm191 is "充电器内部温度低报警"
    midAlarm192 is "电池柜温度高报警"
    midAlarm193 is "电池柜温度低报警"
    midAlarm194 is "电池柜温度传感器断线"
    midAlarm195 is "空转条件不满足"
    midAlarm196 is "功率管理停机"
    midAlarm197 is "保留"
    midAlarm198 is "保留"
    midAlarm199 is "保留"
    midAlarm200 is "保留"
    midAlarm201 is "保留"
    midAlarm202 is "保留"
    midAlarm203 is "保留"
    midAlarm204 is "保留"
    midAlarm205 is "保留"
    midAlarm206 is "保留"
    midAlarm207 is "保留"
    midAlarm208 is "保留"
    midAlarm209 is "空转时间过长"
    midAlarm210 is "塔筒共振时间过长"
    midAlarm211 is "功率过低等风"
    midAlarm212 is "并网时发电机转速过低"
    midAlarm213 is "保留"
    midAlarm214 is "保留"
    midAlarm215 is "保留"
    midAlarm216 is "保留"
    midAlarm217 is "系统OK"
    midAlarm218 is "保留"
    midAlarm219 is "机舱温度报警"
    midAlarm220 is "短暂电网故障"
    midAlarm221 is "临界频率"
    midAlarm222 is "阵风"
    midAlarm223 is "风速不一致"
    midAlarm224 is "风速计1故障"
    midAlarm225 is "风速计2故障"
    midAlarm226 is "刹车盘磨损"
    midAlarm227 is "发电机定子温度告警"
    midAlarm228 is "发电机轴承1温度告警"
    midAlarm229 is "发电机轴承2温度告警"
    midAlarm230 is "发电机避雷保护失效"
    midAlarm231 is "桨叶角度测试偏差告警"
    midAlarm232 is "变桨电机过热"
    midAlarm233 is "齿轮轴承温度告警"
    midAlarm234 is "齿轮轴承2温度告警"
    midAlarm235 is "齿轮油过滤器堵塞报警"
    midAlarm236 is "变频器不同步"
    midAlarm237 is "变频器扭矩返回值不符"
    midAlarm238 is "转子轴承温度高报警"
    midAlarm239 is "变频器UPS告警"
    midAlarm240 is "温度过热降转速报警"
    midAlarm241 is "变桨润滑油泵报警"
    midAlarm242 is "风机结冰告警"
    midAlarm243 is "风向标1失效"
    midAlarm244 is "风向标2失效"
    midAlarm245 is "风向不一致"
    midAlarm246 is "保留"
    midAlarm247 is "保留"
    midAlarm248 is "保留"
}
onInit {
    midAlarm0   = null
    midAlarm1   = null
    midAlarm2   = null
    midAlarm3   = null
    midAlarm4   = null
    midAlarm5   = null
    midAlarm6   = null
    midAlarm7   = null
    midAlarm8   = null
    midAlarm9   = null
    midAlarm10  = null
    midAlarm11  = null
    midAlarm12  = null
    midAlarm13  = null
    midAlarm14  = null
    midAlarm15  = null
    midAlarm16  = null
    midAlarm17  = null
    midAlarm18  = null
    midAlarm19  = null
    midAlarm20  = null
    midAlarm21  = null
    midAlarm22  = null
    midAlarm23  = null
    midAlarm24  = null
    midAlarm25  = null
    midAlarm26  = null
    midAlarm27  = null
    midAlarm28  = null
    midAlarm29  = null
    midAlarm30  = null
    midAlarm31  = null
    midAlarm32  = null
    midAlarm33  = null
    midAlarm34  = null
    midAlarm35  = null
    midAlarm36  = null
    midAlarm37  = null
    midAlarm38  = null
    midAlarm39  = null
    midAlarm40  = null
    midAlarm41  = null
    midAlarm42  = null
    midAlarm43  = null
    midAlarm44  = null
    midAlarm45  = null
    midAlarm46  = null
    midAlarm47  = null
    midAlarm48  = null
    midAlarm49  = null
    midAlarm50  = null
    midAlarm51  = null
    midAlarm52  = null
    midAlarm53  = null
    midAlarm54  = null
    midAlarm55  = null
    midAlarm56  = null
    midAlarm57  = null
    midAlarm58  = null
    midAlarm59  = null
    midAlarm60  = null
    midAlarm61  = null
    midAlarm62  = null
    midAlarm63  = null
    midAlarm64  = null
    midAlarm65  = null
    midAlarm66  = null
    midAlarm67  = null
    midAlarm68  = null
    midAlarm69  = null
    midAlarm70  = null
    midAlarm71  = null
    midAlarm72  = null
    midAlarm73  = null
    midAlarm74  = null
    midAlarm75  = null
    midAlarm76  = null
    midAlarm77  = null
    midAlarm78  = null
    midAlarm79  = null
    midAlarm80  = null
    midAlarm81  = null
    midAlarm82  = null
    midAlarm83  = null
    midAlarm84  = null
    midAlarm85  = null
    midAlarm86  = null
    midAlarm87  = null
    midAlarm88  = null
    midAlarm89  = null
    midAlarm90  = null
    midAlarm91  = null
    midAlarm92  = null
    midAlarm93  = null
    midAlarm94  = null
    midAlarm95  = null
    midAlarm96  = null
    midAlarm97  = null
    midAlarm98  = null
    midAlarm99  = null
    midAlarm100 = null
    midAlarm101 = null
    midAlarm102 = null
    midAlarm103 = null
    midAlarm104 = null
    midAlarm105 = null
    midAlarm106 = null
    midAlarm107 = null
    midAlarm108 = null
    midAlarm109 = null
    midAlarm110 = null
    midAlarm111 = null
    midAlarm112 = null
    midAlarm113 = null
    midAlarm114 = null
    midAlarm115 = null
    midAlarm116 = null
    midAlarm117 = null
    midAlarm118 = null
    midAlarm119 = null
    midAlarm120 = null
    midAlarm121 = null
    midAlarm122 = null
    midAlarm123 = null
    midAlarm124 = null
    midAlarm125 = null
    midAlarm126 = null
    midAlarm127 = null
    midAlarm128 = null
    midAlarm129 = null
    midAlarm130 = null
    midAlarm131 = null
    midAlarm132 = null
    midAlarm133 = null
    midAlarm134 = null
    midAlarm135 = null
    midAlarm136 = null
    midAlarm137 = null
    midAlarm138 = null
    midAlarm139 = null
    midAlarm140 = null
    midAlarm141 = null
    midAlarm142 = null
    midAlarm143 = null
    midAlarm144 = null
    midAlarm145 = null
    midAlarm146 = null
    midAlarm147 = null
    midAlarm148 = null
    midAlarm149 = null
    midAlarm150 = null
    midAlarm151 = null
    midAlarm152 = null
    midAlarm153 = null
    midAlarm154 = null
    midAlarm155 = null
    midAlarm156 = null
    midAlarm157 = null
    midAlarm158 = null
    midAlarm159 = null
    midAlarm160 = null
    midAlarm161 = null
    midAlarm162 = null
    midAlarm163 = null
    midAlarm164 = null
    midAlarm165 = null
    midAlarm166 = null
    midAlarm167 = null
    midAlarm168 = null
    midAlarm169 = null
    midAlarm170 = null
    midAlarm171 = null
    midAlarm172 = null
    midAlarm173 = null
    midAlarm174 = null
    midAlarm175 = null
    midAlarm176 = null
    midAlarm177 = null
    midAlarm178 = null
    midAlarm179 = null
    midAlarm180 = null
    midAlarm181 = null
    midAlarm182 = null
    midAlarm183 = null
    midAlarm184 = null
    midAlarm185 = null
    midAlarm186 = null
    midAlarm187 = null
    midAlarm188 = null
    midAlarm189 = null
    midAlarm190 = null
    midAlarm191 = null
    midAlarm192 = null
    midAlarm193 = null
    midAlarm194 = null
    midAlarm195 = null
    midAlarm196 = null
    midAlarm197 = null
    midAlarm198 = null
    midAlarm199 = null
    midAlarm200 = null
    midAlarm201 = null
    midAlarm202 = null
    midAlarm203 = null
    midAlarm204 = null
    midAlarm205 = null
    midAlarm206 = null
    midAlarm207 = null
    midAlarm208 = null
    midAlarm209 = null
    midAlarm210 = null
    midAlarm211 = null
    midAlarm212 = null
    midAlarm213 = null
    midAlarm214 = null
    midAlarm215 = null
    midAlarm216 = null
    midAlarm217 = null
    midAlarm218 = null
    midAlarm219 = null
    midAlarm220 = null
    midAlarm221 = null
    midAlarm222 = null
    midAlarm223 = null
    midAlarm224 = null
    midAlarm225 = null
    midAlarm226 = null
    midAlarm227 = null
    midAlarm228 = null
    midAlarm229 = null
    midAlarm230 = null
    midAlarm231 = null
    midAlarm232 = null
    midAlarm233 = null
    midAlarm234 = null
    midAlarm235 = null
    midAlarm236 = null
    midAlarm237 = null
    midAlarm238 = null
    midAlarm239 = null
    midAlarm240 = null
    midAlarm241 = null
    midAlarm242 = null
    midAlarm243 = null
    midAlarm244 = null
    midAlarm245 = null
    midAlarm246 = null
    midAlarm247 = null
    midAlarm248 = null
}
time_align { nullable }
task {
    //如果全 0，则表示正常，设置 mergeAlarm0 = 0，反之则为 1
    def isAlarm = false

    //先解析成 alarmTemp 再和 midAlarm 进行比较
    for (int i = 0; i < 284; i++) {
        def idx = i + 1
        def alarm = delegate["zAlarm" + ((int) (i / 31) + 1)]
        def midAlarm = delegate["midAlarm" + idx]
        def ovalue = null
        if (alarm != null) {
            long cv = alarm.value
            def v = cv & (1L << (i % 31))
            ovalue = (v == 0 ? 0 : 1)
            if (midAlarm == null || midAlarm.value != ovalue) {
                delegate["mergeAlarm" + idx] = ovalue
            }
            delegate["midAlarm" + idx] = ovalue
            midAlarm = ovalue
        }
        if (!isAlarm && midAlarm == 1) {
            isAlarm = true
        }
    }

    //输出mergeAlarm0以及重算midAlarm0
    if (isAlarm) {
        if (midAlarm0 == null || midAlarm0 == 0) {
            mergeAlarm0 = 1
        }
        midAlarm0 = 1;
    } else {
        if (midAlarm0 == null || midAlarm0 == 1) {
            mergeAlarm0 = 0
        }
        midAlarm0 = 0;
    }
}